<!-- index.html -->
{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="project">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
 
    <title>Home</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <!-- Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="{% static "index.css" %}" />

    <!-- Display Messages -->
    {% if messages %}
    {% for message in messages %}
    <script>
        alert("{{ message }}");
    </script>
    {% endfor %}
    {% endif %}

    <style>
        .warehouse-listings {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.warehouse-card {
  width: calc(33.333% - 20px);
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.warehouse-image {
  position: relative;
  height: 200px;
  overflow: hidden;
}

.warehouse-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.badge {
  position: absolute;
  padding: 5px 10px;
  font-size: 12px;
  font-weight: bold;
  color: white;
}

.featured {
  top: 10px;
  left: 10px;
  background-color: #4CAF50;
}

.status {
  top: 10px;
  right: 10px;
  background-color: #2196F3;
}

.warehouse-info {
  padding: 15px;
}

.warehouse-info h3 {
  margin: 0 0 10px;
  font-size: 18px;
}

.location {
  color: #666;
  font-size: 14px;
}

.price {
  font-size: 20px;
  font-weight: bold;
  color: #4CAF50;
  margin: 10px 0;
}

.price-sqft {
  font-size: 14px;
  color: #666;
}

.warehouse-details {
  display: flex;
  justify-content: space-between;
  margin: 10px 0;
  font-size: 14px;
}

.warehouse-facilities {
  font-size: 14px;
  color: #666;
  margin-top: 10px;
}

.warehouse-footer {
  background-color: #f5f5f5;
  padding: 10px 15px;
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  color: #666;
}
    </style>

</head>

<body class="container-fluid">

    <header class="row">
        <!-- Navbar -->
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button class="navbar-toggle" data-toggle="collapse" data-target="#mainNavBar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" class="styleheader" href="{% url "index" %}">Vaultspace</a>
                </div>
                <div class="collapse navbar-collapse" id="mainNavBar">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="{% url "index" %}">Home</a></li>

                        {% if user.is_authenticated %}
                        <li><a href="{% url "logout" %}"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                        <li><a href="{% url "tenant_details" %}"><span class="glyphicon glyphicon-log-out"></span> update profile</a></li>
                        
                        {% else %}
                        <li><a href="{% url "register_lessor" %}"><span class="glyphicon glyphicon-user"></span> Sign up for lessor</a></li>
                        <li><a href="{% url "register_tenant" %}"><span class="glyphicon glyphicon-user"></span> Sign up for tenant</a></li>
                       

                        <li><a href="{% url "login" %}"><span class="glyphicon glyphicon-log-in"></span> Log in
                            </a></li>
                        {% endif %}

                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <br />
    <br>
    <br>
    <div class="warehouse-listings">
        {% for warehouse in warehouses %}
        <div class="warehouse-card">
          <div class="warehouse-image">
            {% if warehouse.photos.first %}
              <img src="{{ warehouse.photos.first.image.url }}" alt="Warehouse Image">
            {% else %}
              <img src="{% static 'images/no-image.jpg' %}" alt="No Image Available">
            {% endif %}
            <!-- <span class="badge featured">FEATURED</span> -->
            <span class="badge status">{% if warehouse.status == 1 %}FOR RENT{% else %}NOT AVAILABLE{% endif %}</span>
          </div>
          <div class="warehouse-info">
            <h3>{{ warehouse.name }}</h3>
            <p class="location">{{ warehouse.location.city }}, {{ warehouse.location.state }}</p>
            <div class="price">${{ warehouse.rental_price }}/mo</div>
            <p class="price-sqft">${{ warehouse.rental_price }}/sq ft</p>
            <div class="warehouse-details">
              <span><i class="fas fa-warehouse"></i> Area {{ warehouse.area }} Sq Ft</span>
              <!-- <span><i class="fas fa-calendar-alt"></i> Built {{ warehouse.year_built|date:"Y" }}</span> -->
            </div>
            <div class="warehouse-facilities">Facilities
              {{ warehouse.facilities|truncatechars:50 }}
            </div>
          </div>
          <div class="warehouse-footer">
            <!-- <span class="owner"><i class="fas fa-user"></i> {{ warehouse.owner.lessor_name }}</span>
            <span class="date"><i class="fas fa-clock"></i> {{ warehouse.created_at|timesince }} ago</span> -->
            <a href="{% url 'view_warehouse' warehouse.warehouse_id %}" class="btn btn-primary">view Details</a> 
          </div>
        </div>
        {% empty %}
        <p>No warehouses found.</p>
        {% endfor %}
      </div>
</body>

</html>
